<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <body>
    <!-- <script src="//whois.pconline.com.cn/ipJson.jsp?callback=ipJson" type="text/javascript"></script>
    <script>
      function ipJson(ipJson) {
        console.log('获取到的网络IP', ipJson);
        //可以把结果存在window上，方便调用
        window.ipJson = ipJson;
      }
    </script> -->

    <!-- <script language="javascript" type="text/javascript" src="http://fw.qq.com/ipaddress">
    </script>
    <script>document.write("你的IP是：" + IPData[0] + "，来自：" + IPData[2]); 
    </script> -->

    <!-- <script type="text/javascript" src="http://fw.qq.com/ipaddress" charset="gb2312"></script>
    <script> $(document).ready(function () {
        $("#ip").val(IPData[0]);
        $("#add").val(IPData[2]);
      })</script> -->


    <script>

      fetch('https://api.ipify.org/').then(
        r => r.text()
      ).then(console.log);


      var options = {
        enableHighAccuracy: true,
        timeout: 15000,
        maximumAge: Infinity,
      };

      function success(pos) {
        console.log('pos: ', pos);
        var crd = pos.coords;

        console.log("Your current position is:");
        console.log("Latitude : " + crd.latitude);
        console.log("Longitude: " + crd.longitude);
        console.log("More or less " + crd.accuracy + " meters.");
      }

      function error(err) {
        console.warn("ERROR(" + err.code + "): " + err.message);
      }

      navigator.geolocation.getCurrentPosition(success, error, options);

    </script>

  </body>
</body>

</html>