<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scrollTop</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 10px;
        }

        #f {
            width: 200px;
            height: 200px;
            /* border: 1px solid; */
            outline: 1px solid;
            overflow: auto;
            /* padding: 10px 0; */
        }

        .center {
            width: 100%;
            height: 100%;
        }

        #c {
            margin: 0 auto;
            width: 120px;
            height: 400px;
            border: 1px solid red;
        }

        #c p {
            margin: 0;
            padding: 10px 0;
            border: 1px solid palegreen;
        }
        #p2-fix {
            position: fixed;
            top: 10px;
            width: 118px;
            background: #fff;
            opacity: 0;
            transition: all .5s ease;
        }
        #p2-fix.show {
            opacity: 1;
        }
       
    </style>
</head>

<body>
    <div id='f'>
        <div id='center' class="center">
            <div id='c'>
                <p id='p1'>Lorem ipsum dolor1</p>
                <p id='p2'>Lorem ipsum dolor2</p>
                <p id='p3'>Lorem ipsum dolor3</p>
                <p id='p4'>Lorem ipsum dolor4</p>
                <p id='p5'>Lorem ipsum dolor5</p>
                <p id='p6'>Lorem ipsum dolor6</p>
                <p id='p2-fix'>Lorem ipsum dolor2</p>
            </div>
        </div>

    </div>

    <script>
        // Element.scrollTop属性可以获取或设置一个元素的内容垂直滚动像素数。
        // 一个元素的scrollTop值是这个元素的 *内容顶部*(卷起来的)到它的视口可见内容（的顶部）的距离的度量。当一个元素的内容没有产生垂直方向的滚动条，那么它的scrollTop值为0.
        // console.log(f.scrollTop); // 0
        // console.log(f.clientHeight); // 0
        // console.log(f.offsetHeight); // 0

        console.log(p5.offsetTop);
        console.log(p5.getBoundingClientRect());


        f.addEventListener('scroll', function () {
            if (f.scrollHeight - f.scrollTop === f.clientHeight) {
                console.log('滚动到底部了');
            }
            
            let el = document.getElementById('p2')
            let fixedEl = document.getElementById('p2-fix')
            let d = el.getBoundingClientRect().top - 10
            // console.log('d:===== ', d);
            // if(d <= 0) {
            //     fixedEl.classList.add('show')
            // } else {
            //     fixedEl.classList.remove('show')
            // }

        })

        window.addEventListener('click', function() {
            console.log(f.scrollHeight);
            // console.log( p5.getBoundingClientRect().top, 'p5---------pppp');
            // console.log( f.getBoundingClientRect().top, 'f---------pppp');
            let el = p3
            // p5到f的距离
            console.log(el.getBoundingClientRect().top, '--=======');
            let distance = el.getBoundingClientRect().top - f.getBoundingClientRect().top
            console.log('distance: ', distance);
            // let sp = f.scrollHeight - distance + el.clientHeight / 2
            let sp = distance
            console.log('sp: ', sp);
            f.scrollTo({
                left: 0,
                top: sp,
                behavior: 'smooth'
            })
        })


    </script>
</body>

</html>